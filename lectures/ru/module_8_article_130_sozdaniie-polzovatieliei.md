База данных пользователей и групп Unix состоит из текстовых файлов /etc/passwd (список пользователей), /etc/shadow (зашифрованные пароли пользователей), /etc/group (список групп) и /etc/gshadow (зашифрованные пароли групп).  
Их форматы задокументированы в passwd, shadow, group и gshadow соответственно. Хотя эти файлы можно отредактировать вручную с помощью таких инструментов, как vipw и vigr, выполнять наиболее распространенные операции позволяют средства более высокого уровня.


Наиболее типичный способ добавить пользователя — ввести команду adduser, принимающую в качестве аргумента имя нового пользователя, которого вы хотите создать.


Параметры




|  |  |
| --- | --- |
| Параметр | Описание |
| –system | добавить системного пользователя. По умолчанию системные пользователи помещаются в группу nogroup. Чтобы добавить системного пользователя в существующую группу, укажите параметр –gid или –ingroup. |
| –home DIR | использовать DIR в качестве домашнего каталога вместо стандартного. При необходимости будет создан каталог и скопированы файлы скелета. |
| –shell SHELL | используйте SHELL вместо значения по умолчанию. |
| –ingroup GROUP | установить первичную группу пользователя на GROUP |
| –add\_extra\_groups | добавить нового пользователя в дополнительную группу, определенную в файле конфигурации |


Команда **adduser** задает несколько вопросов перед созданием учетной записи, но работать с ней довольно просто. Ее конфигурационный файл /etc/adduser.conf содержит множество интересных настроек. Вы можете, например, назначить диапазон идентификаторов пользователей (UID), которые можно применять, указать, входят ли пользователи в общую группу, определить оболочку по умолчанию и т.д.  
Создание учетной записи приводит к появлению личного каталога пользователя с содержимым /etc/skel/template. В ней пользователю предоставляется набор стандартных каталогов и файлов конфигурации.  
В некоторых случаях будет полезно добавить пользователя в группу (отличную от основной группы по умолчанию), чтобы предоставить дополнительные разрешения. Например, пользователь, включенный в группу sudo, имеет полные административные привилегии с помощью команды sudo. Добавление в группу осуществляется через команду adduser пользователь группа.

